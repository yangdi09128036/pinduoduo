import{az as l,o as e,q as t,O as n,e as u,t as a,x as o,v as s,c as d,w as i,j as _,n as r,b as f,r as h,i as c,d as p,f as m,h as y}from"./index-CDX771vS.js";import{_ as g}from"./uni-load-more.CvNHBxiU.js";import{r as w}from"./uni-app.es.i-bVV8oK.js";import{e as b,_ as k}from"./mall-goods.ByehVgJr.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as x}from"./unicloud-db.BuyzoJvc.js";const L=S({name:"uniLink",props:{href:{type:String,default:""},text:{type:String,default:""},download:{type:String,default:""},showUnderLine:{type:[Boolean,String],default:!0},copyTips:{type:String,default:"已自动复制网址，请在手机浏览器里粘贴该网址"},color:{type:String,default:"#999999"},fontSize:{type:[Number,String],default:14}},computed:{isShowA(){return this._isH5=!0,!(!this.isMail()&&!this.isTel()||!0!==this._isH5)}},created(){this._isH5=null},methods:{isMail(){return this.href.startsWith("mailto:")},isTel(){return this.href.startsWith("tel:")},openURL(){window.open(this.href)},makePhoneCall(e){l({phoneNumber:e})}}},[["render",function(l,r,f,h,c,p){const m=_;return p.isShowA?(e(),t("a",{key:0,class:o(["uni-link",{"uni-link--withline":!0===f.showUnderLine||"true"===f.showUnderLine}]),href:f.href,style:s({color:f.color,fontSize:f.fontSize+"px"}),download:f.download},[n(l.$slots,"default",{},(()=>[u(a(f.text),1)]),!0)],14,["href","download"])):(e(),d(m,{key:1,class:o(["uni-link",{"uni-link--withline":!0===f.showUnderLine||"true"===f.showUnderLine}]),style:s({color:f.color,fontSize:f.fontSize+"px"}),onClick:p.openURL},{default:i((()=>[n(l.$slots,"default",{},(()=>[u(a(f.text),1)]),!0)])),_:3},8,["class","style","onClick"]))}],["__scopeId","data-v-44511933"]]);r.database();const v=S({data:()=>({queryWhere:"",collectionList:"mall-goods",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""},options:{...b}}),onLoad(l){this._id=l.id},onReady(){this._id&&(this.queryWhere='_id=="'+this._id+'"')},methods:{handleUpdate(){f({url:"./edit?id="+this._id,events:{refreshData:()=>{this.$refs.udb.loadData({clear:!0})}}})},handleDelete(){this.$refs.udb.remove(this._id,{success:l=>{f({url:"./list"})}})}}},[["render",function(l,t,n,o,s,r){const f=c,b=w(h("uni-load-more"),g),S=_,v=w(h("uni-file-picker"),k),U=w(h("uni-link"),L),j=w(h("unicloud-db"),x),C=y;return e(),d(f,{class:"container"},{default:i((()=>[p(j,{ref:"udb",options:s.options,collection:s.collectionList,field:"category_id,goods_sn,name,price,keywords,goods_desc,goods_thumb,goods_banner_imgs,reviews,remain_count,month_sell_count,total_sell_count,is_real,is_on_sale,is_best,is_new,is_hot,seller_note",where:s.queryWhere,getone:!0,manual:!0},{default:i((({data:l,loading:t,error:n,options:o})=>[n?(e(),d(f,{key:0},{default:i((()=>[u(a(n.message),1)])),_:2},1024)):t?(e(),d(f,{key:1},{default:i((()=>[p(b,{contentText:s.loadMore,status:"loading"},null,8,["contentText"])])),_:1})):l?(e(),d(f,{key:2},{default:i((()=>[p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("商品类别 ID")])),_:1}),p(S,null,{default:i((()=>[u(a(l.category_id),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("货号")])),_:1}),p(S,null,{default:i((()=>[u(a(l.goods_sn),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("商品名称")])),_:1}),p(S,null,{default:i((()=>[u(a(l.name),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("商品价格")])),_:1}),p(S,null,{default:i((()=>[u(a(l.price),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("关键字")])),_:1}),p(S,null,{default:i((()=>[u(a(l.keywords),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("详细描述")])),_:1}),p(S,null,{default:i((()=>[u(a(l.goods_desc),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("缩略图")])),_:1}),l.goods_thumb&&"image"==l.goods_thumb.fileType?(e(),d(v,{key:0,value:l.goods_thumb,"file-mediatype":l.goods_thumb&&l.goods_thumb.fileType,"return-type":"object",readonly:""},null,8,["value","file-mediatype"])):l.goods_thumb?(e(),d(U,{key:1,href:l.goods_thumb.url,text:l.goods_thumb.url},null,8,["href","text"])):(e(),d(S,{key:2}))])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("Banner 图")])),_:1}),p(S,null,{default:i((()=>[u(a(l.goods_banner_imgs),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("商品评价")])),_:1}),p(S,null,{default:i((()=>[u(a(l.reviews),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("库存数量")])),_:1}),p(S,null,{default:i((()=>[u(a(l.remain_count),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("月销量")])),_:1}),p(S,null,{default:i((()=>[u(a(l.month_sell_count),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("总销量")])),_:1}),p(S,null,{default:i((()=>[u(a(l.total_sell_count),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("是否为实物")])),_:1}),p(S,null,{default:i((()=>[u(a(1==l.is_real?"✅":"❌"),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("是否上架")])),_:1}),p(S,null,{default:i((()=>[u(a(1==l.is_on_sale?"✅":"❌"),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("是否精品")])),_:1}),p(S,null,{default:i((()=>[u(a(1==l.is_best?"✅":"❌"),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("是否新品")])),_:1}),p(S,null,{default:i((()=>[u(a(1==l.is_new?"✅":"❌"),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("是否热销")])),_:1}),p(S,null,{default:i((()=>[u(a(1==l.is_hot?"✅":"❌"),1)])),_:2},1024)])),_:2},1024),p(f,null,{default:i((()=>[p(S,null,{default:i((()=>[u("商家备注")])),_:1}),p(S,null,{default:i((()=>[u(a(l.seller_note),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)):m("",!0)])),_:1},8,["options","collection","where"]),p(f,{class:"btns"},{default:i((()=>[p(C,{type:"primary",onClick:r.handleUpdate},{default:i((()=>[u("修改")])),_:1},8,["onClick"]),p(C,{type:"warn",class:"btn-delete",onClick:r.handleDelete},{default:i((()=>[u("删除")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-ad3cac49"]]);export{v as default};
